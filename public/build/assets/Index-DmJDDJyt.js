import{h as D}from"./moment-Cl4UOzQZ.js";import{A as S}from"./AuthenticatedLayout-BNRuQ5ce.js";import{F as j}from"./Files-IUnd2bk-.js";import{i as P,s as w,r as f,o as r,g as C,h as y,b as e,c as i,e as c,F as g,d as m,t as o,j as l,a as x,w as A,f as M,D as N,p as V,q as L}from"./app-DaVOuH0r.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ASide-gnddMo4y.js";const T={props:["orders"],components:{Link:P,AuthenticatedLayout:S,Files:j},data(){return{isOrderModalVisible:!1,selectedOrder:{},status:null,loading:!1}},computed:{},methods:{selectStyle(n){switch(n){case"Pending":return{color:"red"};case"Order Processed":return{color:"orange"};case"Order Shipped":return{color:"blue"};case"Order En Route":return{color:"purple"};case"Order Arrived":return{color:"green"};default:return{color:"black"}}},updateStatus(n){this.loading=!this.loading,w.put(`/orders/${n.status.order_item_id}`,{status:n.status.status}).then(_=>{this.loading=this.loading?!1:this.loading}).catch(_=>{this.loading=this.loading?!1:this.loading})},getOptionName(n,_){const a=n.options.find(b=>b.id===_);return a?a.value:"Unknown"},previeworder(n){w.delete(`http://localhost:8000/api/users/${n}`).then(()=>{this.$emit("reload")})},showOrderModal(n){this.selectedOrder=n,this.isOrderModalVisible=!0},dateTime(n){return D(n).format("MMM Do YYYY")}}},t=n=>(V("data-v-07478db4"),n=n(),L(),n),B={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center overflow-auto bg-black bg-opacity-50"},F=t(()=>e("div",{class:"rounded-lg w-1/2 p-8"},[e("div",{class:"flex justify-center"},[e("div",{class:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-32 w-32"})])],-1)),z=[F],Y=t(()=>e("div",{class:"p-4 bg-white block sm:flex items-center justify-between border-b border-gray-200 lg:mt-1.5"},[e("div",{class:"mb-1 w-full"},[e("div",{class:"mb-4"},[e("nav",{class:"flex mb-5","aria-label":"Breadcrumb"},[e("ol",{class:"inline-flex items-center space-x-1 md:space-x-2"},[e("li",{class:"inline-flex items-center"},[e("a",{href:"#",class:"text-gray-700 hover:text-gray-900 inline-flex items-center"},[e("svg",{class:"w-5 h-5 mr-2.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),l(" Home ")])]),e("li",null,[e("div",{class:"flex items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-gray-400 ml-1 md:ml-2 text-sm font-medium","aria-current":"page"},"orders")])])])]),e("h1",{class:"text-xl sm:text-2xl font-semibold text-gray-900"},"All orders")]),e("div",{class:"block sm:flex items-center md:divide-x md:divide-gray-100"},[e("form",{class:"sm:pr-3 mb-4 sm:mb-0",action:"#",method:"GET"},[e("label",{for:"orders-search",class:"sr-only"},"Search"),e("div",{class:"mt-1 relative sm:w-64 xl:w-96"},[e("input",{type:"text",name:"email",id:"orders-search",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5",placeholder:"Search for orders"})])])])])],-1)),U={key:1},R={key:2,class:"text-green-500"},q={class:"flex flex-col"},H={class:"overflow-x-auto"},G={class:"align-middle inline-block min-w-full"},Q={class:"shadow overflow-hidden"},J={class:"table-fixed min-w-full divide-y divide-gray-200"},K=t(()=>e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"p-4 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase"},"S/N"),e("th",{scope:"col",class:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Order Number"),e("th",{scope:"col",class:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),e("th",{scope:"col",class:"p-4 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase"},"Number of items"),e("th",{scope:"col",class:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Amount"),e("th",{scope:"col",class:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{scope:"col",class:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Action")])],-1)),W={class:"bg-white divide-y divide-gray-200"},X=["onClick"],Z={class:"p-4 whitespace-nowrap text-base font-medium text-gray-900"},I={class:"p-4 whitespace-nowrap text-base font-medium text-gray-900"},$={class:"p-4 whitespace-nowrap text-base font-medium text-gray-900"},ee={class:"p-4 whitespace-nowrap text-base font-medium text-gray-900"},te={class:"p-4 whitespace-nowrap text-base font-medium text-gray-900"},se={class:"p-4 whitespace-nowrap text-base font-medium text-gray-900"},oe={class:"p-4 whitespace-nowrap space-x-2"},le=["onClick"],ne={key:0,class:"flex justify-center mt-10"},re=t(()=>e("span",null,"No order Found",-1)),ie=[re],ae={class:"mx-auto md:px-40"},de={class:"bg-white px-4 py-3 flex items-center justify-center border-t border-gray-200 sm:px-6","aria-label":"Pagination"},ce={class:"hidden sm:block"},ue={class:"text-sm text-gray-700"},pe={class:"font-medium"},_e={class:"font-medium"},he={class:"font-medium"},ge={class:"flex-1 flex justify-between sm:justify-end"},me={key:3,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-50"},fe={class:"relative md:w-[600px] h-[90vh] bg-white overflow-hidden p-6 rounded-lg"},ye={class:"max-h-[80vh] overflow-y-auto"},xe={class:"bg-gray-100 p-4"},be=t(()=>e("h2",{class:"text-xl font-bold mb-2"},"Order Details",-1)),ve={class:"pb-2 flex justify-between"},we=t(()=>e("strong",null,"Order ID:",-1)),ke={key:0,class:"pb-2 flex justify-between"},Oe=t(()=>e("strong",null,"Shipping Type:",-1)),De=t(()=>e("span",null,"Send to my location",-1)),Se={key:1,class:"pb-2 flex justify-between"},je=t(()=>e("strong",null,"Shipping Type:",-1)),Pe=t(()=>e("span",null,"Pick Up",-1)),Ce={class:"pb-2 flex justify-between"},Ae=t(()=>e("strong",null,"Delivery Location:",-1)),Me={class:"pb-2 flex justify-between"},Ne=t(()=>e("strong",null,"Delivery State:",-1)),Ve={class:"pb-2 flex justify-between"},Le=t(()=>e("strong",null,"Delivery Address:",-1)),Ee={class:"pb-2 flex justify-between"},Te=t(()=>e("strong",null,"Contact Email:",-1)),Be={class:"py-2 border-t flex justify-between"},Fe=t(()=>e("strong",null,"Order Amount:",-1)),ze={class:"font-bold"},Ye={class:"pb-4 flex justify-between"},Ue=["onUpdate:modelValue","onChange"],Re=t(()=>e("option",{disabled:""},"Select",-1)),qe=t(()=>e("option",{value:"Pending",style:{color:"red"}},"Pending",-1)),He=t(()=>e("option",{value:"Order Processed",style:{color:"orange"}},"Order Processed",-1)),Ge=t(()=>e("option",{value:"Order Shipped",style:{color:"blue"}},"Order Shipped",-1)),Qe=t(()=>e("option",{value:"Order En Route",style:{color:"purple"}},"Order En Route",-1)),Je=t(()=>e("option",{value:"Order Arrived",style:{color:"green"}},"Order Arrived",-1)),Ke=[Re,qe,He,Ge,Qe,Je],We=t(()=>e("strong",null,"Delivery Type:",-1)),Xe={key:0},Ze=t(()=>e("span",null," ( 14 working Days Delivery ) ",-1)),Ie={key:1},$e=t(()=>e("span",null," ( 6-7 working Days Delivery ) ",-1)),et={key:2},tt=t(()=>e("span",null," ( 1 - 2 working Day(s)Delivery ) ",-1)),st=t(()=>e("strong",null,"Product Name:",-1)),ot=t(()=>e("strong",null,"Expected Delivery Date:",-1)),lt=t(()=>e("strong",null,"Quantity:",-1)),nt={key:0},rt=t(()=>e("strong",null,"Hire Designer:",-1)),it=t(()=>e("span",null,"Yes",-1)),at={key:1},dt=t(()=>e("strong",null,"Design Description:",-1)),ct={class:"py-4"},ut=t(()=>e("strong",null,"Product Attribute",-1)),pt={class:"flex space-x-4"},_t={class:"mt-6 text-right absolute w-full bottom-0 left-0 bg-white p-4"};function ht(n,_,a,b,d,p){const v=f("Link"),k=f("Files"),O=f("AuthenticatedLayout");return r(),C(O,null,{default:y(()=>[e("div",null,[d.loading?(r(),i("div",B,z)):c("",!0),Y,n.$page.props.errors?(r(),i("div",U,[(r(!0),i(g,null,m(n.$page.props.errors,s=>(r(),i("div",{key:s,class:"text-red-600"},o(s),1))),128))])):c("",!0),n.$page.props.flash.success?(r(),i("div",R,o(n.$page.props.flash.success),1)):c("",!0),e("div",q,[e("div",H,[e("div",G,[e("div",Q,[e("table",J,[K,e("tbody",W,[(r(!0),i(g,null,m(a.orders.data,(s,h)=>(r(),i("tr",{onClick:u=>p.showOrderModal(s),key:h,class:"hover:bg-gray-100 cursor-pointer"},[e("td",Z,o(h+1),1),e("td",I,o(s.reference_number),1),e("td",$,o(s.status),1),e("td",ee,o(s.order_items.length),1),e("td",te,"â‚¦"+o(s.total_amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),e("td",se,o(p.dateTime(s.created_at)),1),e("td",oe,[e("button",{onClick:u=>p.showOrderModal(s),type:"button",class:"text-white bg-blue-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm inline-flex items-center px-3 py-2 text-center"},"View",8,le)])],8,X))),128))])])]),a.orders.length==0?(r(),i("div",ne,ie)):c("",!0),e("div",ae,[e("nav",de,[e("div",ce,[e("p",ue,[l(" Showing "),e("span",pe,o(a.orders.from),1),l(" to "),e("span",_e,o(a.orders.to),1),l(" of "),e("span",he,o(a.orders.total),1),l(" results ")])]),e("div",ge,[x(v,{href:a.orders.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-100",disabled:!a.orders.prev_page_url},{default:y(()=>[l(" Previous ")]),_:1},8,["href","disabled"]),x(v,{href:a.orders.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-100",disabled:!a.orders.next_page_url},{default:y(()=>[l(" Next ")]),_:1},8,["href","disabled"])])])])])])]),d.isOrderModalVisible?(r(),i("div",me,[e("div",fe,[e("div",ye,[e("div",xe,[be,e("div",ve,[we,l(),e("span",null,o(d.selectedOrder.reference_number),1)]),d.selectedOrder.shippingType=="ME"?(r(),i("div",ke,[Oe,l(),De])):c("",!0),d.selectedOrder.shippingType=="OFFICE"?(r(),i("div",Se,[je,l(),Pe])):c("",!0),e("div",Ce,[Ae,l(),e("span",null,o(d.selectedOrder.DeliveryLocation),1)]),e("div",Me,[Ne,l(),e("span",null,o(d.selectedOrder.DeliveryState),1)]),e("div",Ve,[Le,l(),e("span",null,o(d.selectedOrder.DeliveryAddress),1)]),e("div",Ee,[Te,l(),e("span",null,o(d.selectedOrder.email),1)]),e("div",Be,[Fe,l(),e("span",ze,"â‚¦"+o(d.selectedOrder.total_amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)])]),(r(!0),i(g,null,m(d.selectedOrder.order_items,(s,h)=>(r(),i("ul",{key:h,class:"space-y-2 border-t-4 border-primary py-4"},[e("li",Ye,[A(e("select",{"onUpdate:modelValue":u=>s.status.status=u,onChange:u=>p.updateStatus(s),style:N(p.selectStyle(s.status.status))},Ke,44,Ue),[[M,s.status.status]]),e("strong",null,"item("+o(h+1)+")",1)]),e("li",null,[We,s.deliveryPeriod=="Standard"?(r(),i("span",Xe,[l(o(s.deliveryPeriod)+" ",1),Ze])):c("",!0),s.deliveryPeriod=="Express"?(r(),i("span",Ie,[l(o(s.deliveryPeriod)+" ",1),$e])):c("",!0),s.deliveryPeriod=="Next Day"?(r(),i("span",et,[l(o(s.deliveryPeriod)+" ",1),tt])):c("",!0)]),e("li",null,[st,l(),e("span",null,o(s.product.name),1)]),e("li",null,[ot,l(),e("span",null,o(p.dateTime(s.expectedDeliveryDate)),1)]),e("li",null,[lt,l(),e("span",null,o(s.quantity),1)]),s.hireDesigner==1?(r(),i("li",nt,[rt,l(),it])):c("",!0),s.hireDesigner==1?(r(),i("li",at,[dt,l(),e("span",null,o(s.designDescription),1)])):c("",!0),e("li",ct,[ut,(r(!0),i(g,null,m(s.attributes,u=>(r(),i("span",{key:u,class:"block"},[e("span",pt,[e("strong",null,o(u.name),1),l(" : "),e("span",null,o(p.getOptionName(s,u.pivot.option_id)),1)])]))),128))]),x(k,{files:s.orderimages},null,8,["files"])]))),128))]),e("div",_t,[e("button",{onClick:_[0]||(_[0]=s=>d.isOrderModalVisible=!1),class:"px-4 py-2 bg-red-600 text-white rounded"},"Close")])])])):c("",!0)])]),_:1})}const vt=E(T,[["render",ht],["__scopeId","data-v-07478db4"]]);export{vt as default};
