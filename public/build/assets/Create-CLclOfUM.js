import{i as y,T as w,q as m,r as f,o as l,f as k,g as h,b as e,a as S,h as p,c as i,F as _,d as v,t as u,e as d,j as C,w as n,v as c,z as A,n as V,l as L}from"./app-Ex42Apvz.js";import{A as M}from"./AuthenticatedLayout-Dy4-A1W6.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ASide-DdYFx5Fj.js";const B={props:{options:{type:Array,required:!0}},components:{Link:y,AuthenticatedLayout:M},data(){return{attributeOption:null,form:w({name:"",options:[],type:"",slug:"",for_product:""}),value:null,cost:null,errorMessage:""}},mounted(){this.attributeOption=this.options},computed:{slug(){return this.form.slug=this.createSlug(this.form.name),this.createSlug(this.form.name)}},methods:{createSlug(o){return o.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},updateSec(){this.form.type=="radio"||this.form.type=="select"||this.form.type=="radio_single"?(this.attributeOption=this.options,this.form.options=[]):this.attributeOption=null},async submitForm(){try{this.form.post("/product-attributes",{preserveScroll:!0})}catch(o){console.error("Error adding product:",o)}},addOption(){m.post("/api/product-attribute-options/store-api",{value:this.value,cost:this.cost}).then(o=>{o.data.success===!0&&this.loadData(),o.data.error===!0&&(this.errorMessage="Please enter an option")}).catch(o=>{console.error("Error fetching data:",o)})},loadData(){m.get("/api/product-attribute-options/load-option").then(o=>{this.attributeOption=o.data.data,this.option=null})}}},F={class:"p-4 bg-white block sm:flex items-center justify-between border-b border-gray-200 lg:mt-1.5"},z={class:"mb-1 w-full"},N=e("div",{class:"mb-4"},[e("nav",{class:"flex mb-5","aria-label":"Breadcrumb"},[e("ol",{class:"inline-flex items-center space-x-1 md:space-x-2"},[e("li",{class:"inline-flex items-center"},[e("a",{href:"#",class:"text-gray-700 hover:text-gray-900 inline-flex items-center"},[e("svg",{class:"w-5 h-5 mr-2.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),p(" Home ")])]),e("li",null,[e("div",{class:"flex items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-gray-400 ml-1 md:ml-2 text-sm font-medium","aria-current":"page"},"Products")])])])]),e("h1",{class:"text-xl sm:text-2xl font-semibold text-gray-900"},"Add Product Attribute")],-1),T={class:"block sm:flex items-center md:divide-x md:divide-gray-100"},U={class:"flex items-center sm:justify-end w-full"},j=e("svg",{class:"-ml-1 mr-2 h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),D={class:"flex flex-col"},P={class:"overflow-x-auto"},E={class:"align-middle inline-block min-w-full"},q={class:"shadow overflow-hidden"},H={class:"w-4/12 mx-auto my-10"},R={key:0},K={key:1,class:"text-green-500"},G={class:"mt-4 flex flex-col"},I=e("label",{for:"name"},"Name:",-1),J={class:"mt-4 flex flex-col"},Q=e("label",{for:"name"},"slug",-1),W={class:"mt-4 flex flex-col"},X=e("label",{for:"for_product"},[p("For "),e("span",{class:"text-green-600"},"Please enter which product this attribute is for")],-1),Y={class:"mt-4 flex flex-col"},Z=e("label",{for:"name"},"Type:",-1),$=e("option",{value:"text"},"Text",-1),ee=e("option",{value:"radio"},"Radio",-1),te=e("option",{value:"radio_single"},"Radio Single",-1),oe=e("option",{value:"textarea"},"textarea",-1),se=e("option",{value:"select"},"Select",-1),re=e("option",{value:"number"},"number",-1),le=[$,ee,te,oe,se,re],ie={key:0,class:"mt-10 border-b"},ne={key:1,class:"mt-4"},ae={class:"my-4"},de=e("label",null," Select from the list of options or Add new",-1),ue=["value","id"],ce=["for"],pe=e("div",{class:"mt-8 flex justify-end"},[e("button",{class:"p-2 px-4 bg-green-600 text-white rounded-sm",type:"submit"},"Add Attribute")],-1);function me(o,r,fe,he,s,a){const g=f("Link"),x=f("AuthenticatedLayout");return l(),k(x,null,{default:h(()=>[e("div",null,[e("div",F,[e("div",z,[N,e("div",T,[e("div",U,[S(g,{href:o.route("options.create"),type:"button","data-modal-toggle":"add-product-modal",class:"text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium inline-flex items-center rounded-lg text-sm px-3 py-2 text-center sm:ml-auto"},{default:h(()=>[j,p(" Create Attribute Option ")]),_:1},8,["href"])])])])]),e("div",D,[e("div",P,[e("div",E,[e("div",q,[e("div",H,[o.$page.props.errors?(l(),i("div",R,[(l(!0),i(_,null,v(o.$page.props.errors,t=>(l(),i("div",{key:t,class:"text-red-600"},u(t),1))),128))])):d("",!0),o.$page.props.flash.success?(l(),i("div",K,u(o.$page.props.flash.success),1)):d("",!0),e("form",{onSubmit:r[7]||(r[7]=C((...t)=>a.submitForm&&a.submitForm(...t),["prevent"]))},[e("div",G,[I,n(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>s.form.name=t),id:"name",onKeydown:r[1]||(r[1]=(...t)=>o.updateSlug&&o.updateSlug(...t))},null,544),[[c,s.form.name]])]),e("div",J,[Q,n(e("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=t=>s.form.slug=t),placeholder:"Slug",id:"slug"},null,512),[[c,s.form.slug]])]),e("div",W,[X,n(e("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=t=>s.form.for_product=t),id:"for_product"},null,512),[[c,s.form.for_product]])]),e("div",Y,[Z,n(e("select",{"onUpdate:modelValue":r[4]||(r[4]=t=>s.form.type=t),onChange:r[5]||(r[5]=(...t)=>a.updateSec&&a.updateSec(...t)),name:"type",id:""},le,544),[[A,s.form.type]])]),s.form.type=="radio"||s.form.type=="select"||s.form.type=="radio_single"?(l(),i("div",ie,[e("label",{for:"option",class:V(s.attributeOption==null?"":"text-red-600")},"Select attribute options:",2)])):d("",!0),s.form.type=="radio"||s.form.type=="select"||s.form.type=="radio_single"?(l(),i("div",ne,[e("div",ae,[de,(l(!0),i(_,null,v(s.attributeOption,t=>(l(),i("div",{key:t.id},[n(e("input",{type:"checkbox","onUpdate:modelValue":r[6]||(r[6]=b=>s.form.options=b),value:t.id,id:"option_"+t.id},null,8,ue),[[L,s.form.options]]),e("label",{for:"option_"+t.id},u(t.value),9,ce)]))),128))])])):d("",!0),pe],32)])])])])])])]),_:1})}const be=O(B,[["render",me]]);export{be as default};
