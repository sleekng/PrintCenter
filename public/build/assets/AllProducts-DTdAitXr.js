import{i as x,r as c,o as l,c as d,a as f,b as t,n as _,F as u,d as h,w as b,v as P,e as k,f as D,t as a,g as w,h as g,j as B}from"./app-BzjQ0yEl.js";import{H as V,F as T}from"./Footer-C5E8hYrz.js";import{P as F}from"./PrimaryButton-B6U9pLgT.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={data(){return{searchTerm:"",isDropdownVisible:!1,selectedCategory:""}},props:{categories:Array,CartCount:Object},components:{Header:V,Footer:T,PrimaryButton:F,Link:x},computed:{allProducts(){return this.categories.flatMap(s=>s.products)},filteredProducts(){return this.allProducts.filter(s=>s.name.toLowerCase().includes(this.searchTerm.toLowerCase()))},filteredCategoryProducts(){if(!this.selectedCategory)return this.allProducts;const s=this.categories.find(o=>o.id===this.selectedCategory);return s?s.products:[]}},methods:{truncateTitle(s,o){const n=s.split(" ");return n.length>o?n.slice(0,o).join(" ")+"...":s},showDropdown(){this.isDropdownVisible=!0},hideDropdown(){setTimeout(()=>{this.isDropdownVisible=!1},200)},filterProducts(){this.isDropdownVisible=!0},filterByCategory(s){this.selectedCategory=s}}},A={class:"container flex w-full mx-auto py-8",id:"app"},N={class:"hidden md:block w-full md:w-1/6 p-4"},H=t("h2",{class:"text-2xl font-bold mb-4"},"Categories",-1),S={class:"category-list space-y-2"},M=["onClick"],I={class:"w-full md:w-3/4 p-4"},O=t("h1",{class:"text-3xl font-bold mb-4"},"All Products",-1),U={class:"hero-search relative mb-6"},z=t("button",{class:"search-btn absolute top-0 right-0 h-full px-4 text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:bg-blue-600"},[t("i",{class:"fa fa-search"})],-1),E={key:0,class:"dropdown-bg absolute top-full left-0 w-full bg-white border border-gray-200 rounded-md shadow-md"},K={key:0,class:"dropdown-content p-4"},q=["src"],G={key:1,class:"dropdown-empty p-4 text-gray-500"},J={class:"mb-6 sm:hidden"},Q=t("option",{value:""},"All Categories",-1),R=["value"],W={class:"products-grid grid grid-cols-1 sm:grid-cols-4 md:grid-cols-4 gap-6"},X={class:"product-image h-48 overflow-hidden"},Y=["src"],Z={class:"product-details p-4"},$={class:"font-bold text-gray-800"},ee=t("div",{class:"text-gray-400"},"starting at",-1),te={class:"price-details flex justify-between items-center py-4"},oe={class:"price text-2xl font-bold text-gray-800"},se={class:"unit text-gray-600"};function re(s,o,n,le,i,r){const y=c("Header"),m=c("Link"),C=c("PrimaryButton"),v=c("Footer");return l(),d("div",null,[f(y,{navcategories:n.categories,CartCount:n.CartCount},null,8,["navcategories","CartCount"]),t("section",A,[t("div",N,[H,t("ul",S,[t("li",null,[t("button",{onClick:o[0]||(o[0]=e=>r.filterByCategory("")),class:_([{"text-blue-500 font-bold":i.selectedCategory===""},"w-full text-left font-semibold text-gray-800 hover:text-blue-500"])}," All Categories ",2)]),(l(!0),d(u,null,h(n.categories,e=>(l(),d("li",{key:e.id},[t("button",{onClick:p=>r.filterByCategory(e.id),class:_([{"text-blue-500 font-bold":i.selectedCategory===e.id},"w-full text-left font-semibold text-gray-800 hover:text-blue-500"])},a(e.name),11,M)]))),128))])]),t("div",I,[O,t("div",U,[b(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>i.searchTerm=e),onInput:o[2]||(o[2]=(...e)=>r.filterProducts&&r.filterProducts(...e)),onKeydown:o[3]||(o[3]=(...e)=>r.showDropdown&&r.showDropdown(...e)),onBlur:o[4]||(o[4]=(...e)=>r.hideDropdown&&r.hideDropdown(...e)),placeholder:"Search for a product",class:"search-input w-full h-12 border rounded-md bg-white text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[P,i.searchTerm]]),z,i.isDropdownVisible?(l(),d("div",E,[r.filteredProducts.length>0?(l(),d("div",K,[(l(!0),d(u,null,h(r.filteredProducts,(e,p)=>(l(),w(m,{key:p,href:s.route("product.show",e.id),class:"dropdown-item py-2 flex hover:bg-gray-100"},{default:g(()=>[t("img",{src:"storage/"+e.product_img1,alt:"Product Image",class:"w-10 h-10 mr-2"},null,8,q),t("span",null,a(e.name),1)]),_:2},1032,["href"]))),128))])):(l(),d("div",G,"No matching products found"))])):k("",!0)]),t("div",J,[b(t("select",{"onUpdate:modelValue":o[5]||(o[5]=e=>i.selectedCategory=e),onChange:o[6]||(o[6]=e=>r.filterByCategory(i.selectedCategory)),class:"w-full h-12 border rounded-md bg-white text-gray-800"},[Q,(l(!0),d(u,null,h(n.categories,e=>(l(),d("option",{key:e.id,value:e.id},a(e.name),9,R))),128))],544),[[D,i.selectedCategory]])]),t("div",W,[(l(!0),d(u,null,h(r.filteredCategoryProducts,e=>(l(),w(m,{key:e.id,href:s.route("product.show",e.id),class:"product-card card border shadow-sm bg-white rounded-lg overflow-hidden"},{default:g(()=>[t("div",X,[t("img",{src:"storage/"+e.product_img1,class:"w-full h-full object-cover",alt:""},null,8,Y)]),t("div",Z,[t("h4",$,a(r.truncateTitle(e.name,7)),1),ee,t("div",te,[t("span",oe,"â‚¦"+a(e.price),1),t("span",se,"Per "+a(e.unit)+" unit",1)]),f(C,{href:s.route("product.show",e.id),class:"bg-blue-600 text-white px-6 py-2 rounded-md text-center w-full"},{default:g(()=>[B(" Select Option ")]),_:2},1032,["href"])])]),_:2},1032,["href"]))),128))])])]),f(v)])}const ce=L(j,[["render",re]]);export{ce as default};
