import{i as V,T as v,r as C,o as l,f as T,g as U,b as e,c as r,F as y,d as b,t as p,e as c,j as A,w as d,v as m,z as x,C as w,h as f,l as I,n as P}from"./app-Cf6ns6CX.js";import{A as S}from"./AuthenticatedLayout-BPF5eSv0.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ASide-1RS5_BTO.js";const j={props:{product:{type:Object,required:!0},categories:{type:Array,required:!0}},components:{Link:V,AuthenticatedLayout:S},mounted(){this.form.name=this.image1.name=this.image2.name=this.image3.name=this.product.name,this.image1.product_id=this.image2.product_id=this.image3.product_id=this.product.id,this.form.slug=this.product.slug,this.form.featured=this.product.featured,this.form.description=this.product.description,this.form.price=this.product.price,this.form.quantityType=this.product.quantityType,this.form.unit=this.product.unit,this.form.categories=this.product.categories.map(i=>i.id),this.form.attributes=this.product.attributes.map(i=>({name:i.name,slug:i.slug,type:i.type,options:i.options.map(t=>({value:t.value,cost:t.cost}))}))},data(){return{form:v({product_id:"",name:"",imageIndex:"",slug:"",description:"",featured:"No",price:"",quantityType:"",unit:"",files:[],attributes:[],categories:[]}),image1:v({name:"",product_id:"",imageIndex:"",file:null}),image2:v({name:"",product_id:"",imageIndex:"",file:null}),image3:v({name:"",product_id:"",imageIndex:"",file:null})}},methods:{uploadImage(i,t){t==0&&(this.image1.imageIndex=t,this.image1.file=i.target.files[0],this.image1.post(route("products.image-upload"))),t==1&&(this.image2.imageIndex=t,this.image2.file=i.target.files[0],this.image2.post(route("products.image-upload"))),t==2&&(this.image3.imageIndex=t,this.image3.file=i.target.files[0],this.image3.post(route("products.image-upload")))},updateSlug(){this.form.slug=this.createSlug(this.form.name)},createSlug(i){return i.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},async submitForm(){await this.form.put(route("product-update-product",this.product.id))},addAttribute(){this.form.attributes.push({name:"",type:"text",options:[]})},removeAttribute(i){this.form.attributes.splice(i,1)},updateOptions(i){this.form.attributes[i].options=[]},addOption(i){this.form.attributes[i].options.push({value:"",cost:0})},removeOption(i,t){this.form.attributes[i].options.splice(t,1)},updateNewImage(i,t){this.form.files.splice(i,1,t)},deleteExistingImage(i){this.form.existingImages.splice(i,1)}}},q=e("div",{class:"p-4 bg-white block sm:flex items-center justify-between border-b border-gray-200 lg:mt-1.5"},[e("div",{class:"mb-1 w-full"},[e("div",{class:"mb-4"},[e("nav",{class:"flex mb-5","aria-label":"Breadcrumb"},[e("ol",{class:"inline-flex items-center space-x-1 md:space-x-2"},[e("li",{class:"inline-flex items-center"},[e("a",{href:"#",class:"text-gray-700 hover:text-gray-900 inline-flex items-center"},[e("svg",{class:"w-5 h-5 mr-2.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),f(" Home ")])]),e("li",null,[e("div",{class:"flex items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-gray-400 ml-1 md:ml-2 text-sm font-medium","aria-current":"page"},"Products")])])])]),e("h1",{class:"text-xl sm:text-2xl font-semibold text-gray-900"},"Add Product")])])],-1),M={class:"flex flex-col w-full"},N={class:"overflow-x-auto"},B={class:"align-middle inline-block min-w-full"},L={class:"shadow overflow-hidden"},z={class:"md:w-4/12 px-4 mx-auto my-10"},F={key:0},R={key:1,class:"text-green-500"},D={class:"mt-4 flex flex-col"},E=e("label",{for:"name"},"Product Name:",-1),H={class:"mt-4 flex flex-col"},W=e("label",{for:"quantityType",class:"block text-gray-700"},"Quantity Type",-1),Y=e("option",{value:"type-1"},"Type 1 starts (1)",-1),Q=e("option",{value:"type-2"},"Type 2 starts (10)",-1),G=e("option",{value:"type-3"},"Type 3 starts (12)",-1),J=e("option",{value:"type-4"},"Type 4 starts (50)",-1),K=e("option",{value:"type-5"},"Type 5 starts at (100)",-1),X=[Y,Q,G,J,K],Z={class:"mt-4 flex flex-col"},$=e("label",{for:"slug"},"Product Slug:",-1),ee={class:"mt-4 flex space-x-8"},te=e("span",null,"Add to Featured Product",-1),se={class:"mt-4 flex flex-col"},oe=e("label",{for:"description"},"Description:",-1),ie={class:"mt-4"},le=e("label",{for:"price",class:"block"},"Price Per unit:",-1),re={class:"mt-4"},ne=e("label",{for:"unit",class:"block"},"Minimum Unit(s):",-1),ae={class:"my-4 mt-10 block"},de=e("label",{class:"block text-sm font-medium text-gray-700 mb-4"},"Product Image:",-1),ue={class:"flex flex-col"},ce={class:"mb-4"},me=["src"],pe={class:"flex space-x-4 items-center"},ge=["value"],fe={key:1},he={class:"mb-4"},_e=["src"],ve={class:"flex space-x-4 items-center"},ye=["value"],be={key:1},xe={class:"mb-4"},we=["src"],ke={class:"flex space-x-4 items-center"},Ve=["value"],Ce={key:1},Te={class:"mt-4"},Ue=e("label",null,"Select Categories:",-1),Ae=["value","id"],Ie=["for"],Pe={class:"mt-6 flex justify-between items-center border-t py-4"},Se=e("h2",{class:"text-lg font-semibold"},"Attributes",-1),Oe=e("svg",{class:"-ml-1 mr-2 h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),je={class:"flex justify-between items-center"},qe={class:"text-lg font-semibold"},Me=["onClick"],Ne={class:"mt-4 flex flex-col"},Be=e("label",{for:"attribute-name"},"Name:",-1),Le=["onUpdate:modelValue","id"],ze={class:"mt-4 flex flex-col"},Fe=e("label",{for:"attribute-type"},"Type:",-1),Re=["onUpdate:modelValue","onChange","id"],De=e("option",{value:"text"},"Text",-1),Ee=e("option",{value:"radio"},"Radio",-1),He=e("option",{value:"radio_single"},"Radio Single",-1),We=e("option",{value:"textarea"},"Textarea",-1),Ye=e("option",{value:"select"},"Select",-1),Qe=e("option",{value:"number"},"Number",-1),Ge=[De,Ee,He,We,Ye,Qe],Je={key:0,class:"mt-6"},Ke=["onClick"],Xe=e("svg",{class:"-ml-1 mr-2 h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),Ze={class:"flex justify-between items-center"},$e=["for"],et=["onClick"],tt=["onUpdate:modelValue","id"],st=["for"],ot=["onUpdate:modelValue","id"],it={class:"mt-8 flex justify-end"},lt=["disabled"];function rt(i,t,h,nt,o,a){const k=C("AuthenticatedLayout");return l(),T(k,null,{default:U(()=>[e("div",null,[q,e("div",M,[e("div",N,[e("div",B,[e("div",L,[e("div",z,[i.$page.props.errors?(l(),r("div",F,[(l(!0),r(y,null,b(i.$page.props.errors,s=>(l(),r("div",{key:s,class:"text-red-600"},p(s),1))),128))])):c("",!0),i.$page.props.flash.success?(l(),r("div",R,p(i.$page.props.flash.success),1)):c("",!0),e("form",{onSubmit:t[14]||(t[14]=A((...s)=>a.submitForm&&a.submitForm(...s),["prevent"]))},[e("div",D,[E,d(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>o.form.name=s),id:"name",onInput:t[1]||(t[1]=(...s)=>a.updateSlug&&a.updateSlug(...s))},null,544),[[m,o.form.name]])]),e("div",H,[W,d(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.form.quantityType=s),name:"quantityType",id:"quantityType"},X,512),[[x,o.form.quantityType]])]),e("div",Z,[$,d(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>o.form.slug=s),id:"slug"},null,512),[[m,o.form.slug]])]),e("div",ee,[te,e("label",null,[d(e("input",{name:"featured1",type:"radio",value:"No","onUpdate:modelValue":t[4]||(t[4]=s=>o.form.featured=s),id:"featured"},null,512),[[w,o.form.featured]]),f(" No ")]),e("label",null,[d(e("input",{name:"featured2",type:"radio",value:"Yes","onUpdate:modelValue":t[5]||(t[5]=s=>o.form.featured=s),id:"featured"},null,512),[[w,o.form.featured]]),f(" Yes ")])]),e("div",se,[oe,d(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.form.description=s),id:"description"},null,512),[[m,o.form.description]])]),e("div",ie,[le,d(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=s=>o.form.price=s),id:"price",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm border-gray-300 rounded-md"},null,512),[[m,o.form.price]])]),e("div",re,[ne,d(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=s=>o.form.unit=s),id:"unit",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm border-gray-300 rounded-md"},null,512),[[m,o.form.unit]])]),e("div",ae,[de,e("div",ue,[e("div",ce,[e("img",{src:"/storage/"+h.product.product_img1,alt:"Product Image",class:"w-32 h-32 object-cover rounded-md"},null,8,me),e("div",pe,[e("input",{type:"file",onInput:t[9]||(t[9]=s=>a.uploadImage(s,0))},null,32)]),o.image1.progress?(l(),r("progress",{key:0,value:o.image1.progress.percentage,max:"100"},p(o.image1.progress.percentage)+"% ",9,ge)):c("",!0),o.image1.progress?(l(),r("span",fe,"uploading Wait...")):c("",!0)]),e("div",he,[e("img",{src:"/storage/"+h.product.product_img2,alt:"Product Image",class:"w-32 h-32 object-cover rounded-md"},null,8,_e),e("div",ve,[e("input",{type:"file",onInput:t[10]||(t[10]=s=>a.uploadImage(s,1))},null,32)]),o.image2.progress?(l(),r("progress",{key:0,value:o.image2.progress.percentage,max:"100"},p(o.image2.progress.percentage)+"% ",9,ye)):c("",!0),o.image2.progress?(l(),r("span",be,"uploading Wait...")):c("",!0)]),e("div",xe,[e("img",{src:"/storage/"+h.product.product_img3,alt:"Product Image",class:"w-32 h-32 object-cover rounded-md"},null,8,we),e("div",ke,[e("input",{type:"file",onInput:t[11]||(t[11]=s=>a.uploadImage(s,2))},null,32)]),o.image3.progress?(l(),r("progress",{key:0,value:o.image3.progress.percentage,max:"100"},p(o.image3.progress.percentage)+"% ",9,Ve)):c("",!0),o.image3.progress?(l(),r("span",Ce,"uploading Wait...")):c("",!0)])])]),e("div",Te,[Ue,(l(!0),r(y,null,b(h.categories,s=>(l(),r("div",{key:s.id},[d(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=n=>o.form.categories=n),value:s.id,id:"category_"+s.id},null,8,Ae),[[I,o.form.categories]]),e("label",{for:"category_"+s.id},p(s.name),9,Ie)]))),128))]),e("div",Pe,[Se,e("button",{onClick:t[13]||(t[13]=(...s)=>a.addAttribute&&a.addAttribute(...s)),type:"button",class:"text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium inline-flex items-center rounded-lg text-sm px-3 py-2"},[Oe,f(" Add Attribute ")])]),(l(!0),r(y,null,b(o.form.attributes,(s,n)=>(l(),r("div",{key:n,class:"mt-6 border p-4 rounded-lg"},[e("div",je,[e("h2",qe,"Attribute "+p(n+1),1),e("button",{onClick:u=>a.removeAttribute(n),type:"button",class:"text-red-600 hover:text-red-800 font-medium text-sm"}," Remove Attribute ",8,Me)]),e("div",Ne,[Be,d(e("input",{type:"text","onUpdate:modelValue":u=>s.name=u,id:"attribute-name-"+n},null,8,Le),[[m,s.name]])]),e("div",ze,[Fe,d(e("select",{"onUpdate:modelValue":u=>s.type=u,onChange:u=>a.updateOptions(n),id:"attribute-type-"+n},Ge,40,Re),[[x,s.type]])]),["radio","radio_single","select"].includes(s.type)?(l(),r("div",Je,[e("button",{onClick:u=>a.addOption(n),type:"button",class:"text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium inline-flex items-center rounded-lg text-sm px-3 py-2"},[Xe,f(" Add Option ")],8,Ke),(l(!0),r(y,null,b(s.options,(u,g)=>(l(),r("div",{key:g,class:"mt-4 flex flex-col"},[e("div",Ze,[e("label",{for:"option-value-"+n+"-"+g},"Option Value:",8,$e),e("button",{onClick:_=>a.removeOption(n,g),type:"button",class:"text-red-600 hover:text-red-800 font-medium text-sm"}," Remove Option ",8,et)]),d(e("input",{type:"text","onUpdate:modelValue":_=>u.value=_,id:"option-value-"+n+"-"+g},null,8,tt),[[m,u.value]]),e("label",{for:"option-cost-"+n+"-"+g},"Option Cost:",8,st),d(e("input",{type:"text","onUpdate:modelValue":_=>u.cost=_,id:"option-cost-"+n+"-"+g},null,8,ot),[[m,u.cost]])]))),128))])):c("",!0)]))),128)),e("div",it,[e("button",{class:P([{"opacity-25":o.form.processing},"p-2 px-4 bg-green-600 text-white rounded-sm"]),disabled:o.form.processing,type:"submit"},"Update Product",10,lt)])],32)])])])])])])]),_:1})}const mt=O(j,[["render",rt]]);export{mt as default};
